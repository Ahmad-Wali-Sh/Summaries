# Django

`Summary by Ahmad Wali Sharify`

    Django is a Framework for building Web Applications.

## URL:
 `Uniform Resource Locator` (basically a location for a website, image, video or PDF)
## HTTP:
 `Hypertext Transfer Protocol` (it defines how server and client communicate with each other)

Back End can Response to a Request via a HTML Page, OR just Data (JSON) with a front end generated by client (React)

## API:
 `Application Programming Interface` (like a remote that has a interface to interact with TV) 
- We Create an Interface for communicating with data


## Installation
---

You need to install Python
```
pip install django
```
to create a django project
```
django-admin startproject {project_name}
```
for running its server
```
python manage.py runserver 
```

## Virtual Environment
---
Vitrual Environment is for installing different packages into individual projects. that avoid global polution.

first install virtualenv.
```
pip install virtualenv
```
then
```
virtualenv env_name
```
to start it in:
```
//linux
source ./env/bin/activate
//windows
.\env\Scripts\activate


//activating Powershell:
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

to set Variables in env

***activate.bat (windows)***
```
set MY_PYTHON_VARIABLE = 'hihihiyes'
```

***activate.bat (Linux)***
```
export MY_PYTHON_VARIABLE = 'hihihiyes'
```

***Activate.ps1***
``` 
$env:MY_PYTHON_VARIABLE = 'hihihiyes'
```

To use Them:
```python
import os
os.environ['MY_PYTHON_VARIABLE']
```
<br>

## App
---

are small Libraries designed to represent a single aspect of a project. A django project is made up of many Django Apps.


`INSTALLED_APPS:` is the list of Django Apps used by given Django Project.

for creating an app.
```
python manage.py startapp {app name}
```

## View
---

View in an app is a request Handler (gets a request and response to it)

like: 
```python
from django.http import HttpResponse

def say_hello(request):
    return HttpResponse("Hello World")
```
you can do anything you want like generating PDF or sending email in this.

## URL
---

URL Files in an app is for creating routes that call a view function.
basically creating URL or interfaces or routes is upon urls.py


like:
```python 
from django.urls import path 
from . import views

urlpatterns = [
    path("hello/", views.say_hello)
]
```

## Model
---

We Use Model to Converting Python queries to database tables (migrate)

**models.py**
```python
from django.db import models

class Data(models.Model):
    name = models.CharField(max_length=100)
    price = models.IntegerField()

    def __str__ (self):
        return self.name
```
> - CharField 
> - TextField
> - SlugField
> - EmailField
> - CommaSeparatedIntegerField
> - UUIDField
> - FileField
> - ImageField
> - BooleanField
> - IntegerField
> - FloatField
> - DecimalField
> - DurationField
> - DateTimeField
> - DateField
> - TimeField
> - ForeignKey
> - ManyToManyField
> - OneToOneField
> - GenericIPAddressField
> - IPAddressField

PostgreSQL: 
> -  ArrayField
> -   HStoreField
> -   IntegerRangeField
> -   BigIntegerRangeField
> -   FloatRangeField
> -   DatetimeRangeField
> -   DateRangeField


then:
```
python manage.py makemigrations
python manage.py migrate
```

<br>

## Admin
---
Django Admin is an app to preform tasks (add,delete,update) data in a visual environment.

first make a superuser via:
```
python manage.py createsuperuser  
```
to register a model to admin

***admin.py***
```python
admin.site.register(Model)
```
for timezone to work correctly, change it in setting.py to "Asia/Kabul" 

<br>

## Integrating with PostgreSQL
---
First you need to install PostgreSQL, then a database with pgadmin4 
and also install this:
```
//Windows
pip install psycopg2

//Linux
pip install psycopg2-binary
```

you need these parts to change in settings.py
```python
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql_psycopg2',
        'NAME': 'usersDB', 
        'USER': 'postgres user', 
        'PASSWORD': 'password',
        'HOST': '127.0.0.1', 
        'PORT': '5432',
    }
}
```



